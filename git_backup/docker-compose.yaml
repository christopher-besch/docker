version: "3.9"

services:

    git_backup:
        image: "chrisbesch/git_backup"

        volumes:
            - "${BACKUP_REPO}:/var/lib/git_backup/repo"
            - "${BACKUP_TEMP}:/var/lib/git_backup/temp"
            - "./other_repos.conf:/var/lib/git_backup/other_repos.conf:ro"
        
        environment:
            - GITHUB_USERNAME
            - GITHUB_PASSWORD
            - BORG_COMPRESSION
            - PRUNE_CFG
            - CRON_TIME
            - TZ=Europe/Berlin

        restart: "always"

    docker_cron:
        image: "chrisbesch/docker_cron"

        volumes:
            - "/var/run/docker.sock:/var/run/docker.sock:rw"
        environment:
            - TZ=Europe/Berlin

        restart: "always"

